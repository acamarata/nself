# v0.3.4 Release Notes

**Release Date**: August 14, 2025

Standardized command headers and service detection fixes.

---

## Overview

This release focuses on UI consistency and reliability improvements for service detection.

---

## Features

### Added

#### Standardized Command Headers
- All nself commands now use consistent header formatting
- Unified blue borders with bold titles and dim subtitles
- Centralized `show_command_header` function for consistency
- Professional boxed headers across all CLI commands

### Fixed

#### Header Formatting Issues
- Removed extra spacing after title and subtitle lines
- Fixed color rendering in non-TTY environments
- Corrected header positioning in `nself up` to show before pre-flight checks
- Eliminated artifacts in database schema ready messages

#### Service Detection
- Fixed `nself down` container detection using direct docker ps instead of docker compose
- Resolved false "stopped" status for running containers
- Improved container state detection accuracy

#### Auto-fix Syntax Errors
- Fixed integer comparison errors in comprehensive.sh
- Cleaned grep output to prevent multi-line variable issues
- Resolved "syntax error in expression" during health checks

#### nginx Configuration
- Fixed storage service port mismatch (5000 to 5001)
- Updated deprecated http2 directive to modern syntax
- Resolved nginx restart loops during auto-fix

### Improved

#### Command Output Standards
- Consistent header formatting across init, build, up, down, status, doctor, clean, restart
- Proper ANSI color preservation in all environments
- Better visual hierarchy with standardized spacing

---

*Full Changelog: v0.3.3...v0.3.4*
