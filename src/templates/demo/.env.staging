# ╔═══════════════════════════════════════════════════════╗
# ║             STAGING ENVIRONMENT                        ║
# ╠═══════════════════════════════════════════════════════╣
# ║ Production-like configuration for staging             ║
# ╚═══════════════════════════════════════════════════════╝

# Core Settings
ENV=staging
PROJECT_NAME=demo-app
BASE_DOMAIN=staging.myapp.com

# SSL/Security
SSL_ENABLED=true
SSL_CERT_NAME=staging

# Database Configuration
POSTGRES_DB=demo_staging
POSTGRES_USER=postgres
POSTGRES_PASSWORD=${STAGING_DB_PASSWORD}
POSTGRES_MAX_CONNECTIONS=100

# Hasura Configuration
HASURA_GRAPHQL_ADMIN_SECRET=${STAGING_HASURA_SECRET}
HASURA_GRAPHQL_ENABLE_CONSOLE=false
HASURA_GRAPHQL_DEV_MODE=false
HASURA_JWT_KEY=${STAGING_JWT_KEY}
HASURA_ROUTE=api

# Auth Service
AUTH_JWT_SECRET=${STAGING_JWT_KEY}
AUTH_ROUTE=auth
AUTH_CLIENT_URL=https://app1.staging.myapp.com
AUTH_EMAIL_VERIFICATION_REQUIRED=true
AUTH_MFA_ENABLED=false

# Optional Services - All Enabled for Staging Testing
NSELF_ADMIN_ENABLED=true
MINIO_ENABLED=true
REDIS_ENABLED=true
FUNCTIONS_ENABLED=true
MLFLOW_ENABLED=true
MAILPIT_ENABLED=true
MEILISEARCH_ENABLED=true

# MinIO Configuration
MINIO_ROOT_USER=${STAGING_MINIO_USER}
MINIO_ROOT_PASSWORD=${STAGING_MINIO_PASSWORD}
MINIO_DEFAULT_BUCKETS=uploads,public,private,temp,mlflow-artifacts

# Redis Configuration
REDIS_PASSWORD=${STAGING_REDIS_PASSWORD}

# MeiliSearch Configuration
MEILISEARCH_MASTER_KEY=${STAGING_MEILISEARCH_KEY}

# Monitoring - Full Stack for Observability
MONITORING_ENABLED=true
GRAFANA_ADMIN_PASSWORD=${STAGING_GRAFANA_PASSWORD}

# Custom Backend Services
CS_1=express_api:express-js:8001
CS_2=bullmq_worker:bullmq-js:8002
CS_3=go_grpc:grpc:8003
CS_4=python_api:fastapi:8004

# Service Routes
CS_1_ROUTE=express-api
CS_1_PUBLIC=true
CS_1_REPLICAS=2

CS_2_PUBLIC=false
CS_2_REPLICAS=2

CS_3_ROUTE=grpc-api
CS_3_PUBLIC=true
CS_3_REPLICAS=2

CS_4_ROUTE=ml-api
CS_4_PUBLIC=true
CS_4_REPLICAS=1

# Frontend Applications - Staging Routes
FRONTEND_APP_1_NAME=app1
FRONTEND_APP_1_PORT=3000
FRONTEND_APP_1_ROUTE=app1

FRONTEND_APP_2_NAME=app2
FRONTEND_APP_2_PORT=3001
FRONTEND_APP_2_ROUTE=app2

# Staging Features
DEBUG=false
LOG_LEVEL=info
ENABLE_HOT_RELOAD=false
SEED_DATA=false

# Resource Limits
CS_1_MEMORY=512M
CS_1_CPU=0.5
CS_2_MEMORY=256M
CS_2_CPU=0.25
CS_3_MEMORY=256M
CS_3_CPU=0.5
CS_4_MEMORY=512M
CS_4_CPU=0.5