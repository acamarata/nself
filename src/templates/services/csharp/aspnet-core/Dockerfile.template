FROM mcr.microsoft.com/dotnet/aspnet:7.0

WORKDIR /app

# Copy application code
COPY . .

# Create non-root user (adjust for the specific runtime)
RUN groupadd -r appuser && useradd -r -g appuser appuser || \
    addgroup -g 1001 -S appuser && adduser -S appuser -u 1001

# Change ownership
RUN chown -R appuser:appuser /app

USER appuser

EXPOSE 5000

CMD ["echo", "Configure the start command for aspnet-core"]